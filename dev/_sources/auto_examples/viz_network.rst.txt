.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_viz_network.py>`     to download the full example code
    .. rst-class:: sphx-glr-example-title

    .. _sphx_glr_auto_examples_viz_network.py:


=======================================================
Visualize Interdisciplinary map of the journals network
=======================================================

The goal of this app is to show an overview of the journals network structure
as a complex network. Each journal is shown as a node and their connections
indicates a citation between two of them.


First, let's import some useful functions


.. code-block:: default


    from os.path import join as pjoin
    from fury import actor, window, colormap as cmap
    import numpy as np








Then let's download some available datasets.


.. code-block:: default


    from fury.data.fetcher import fetch_viz_wiki_nw

    files, folder = fetch_viz_wiki_nw()
    categories_file, edges_file, positions_file = sorted(files.keys())





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Creating new folder /home/travis/.fury/examples/wiki_nw
    Downloading "wiki_categories.txt" to /home/travis/.fury/examples/wiki_nw
    Download Progress: [###-------------------------------] 7.60%  of 0.21 MB    Download Progress: [#####-----------------------------] 15.21%  of 0.21 MB    Download Progress: [########--------------------------] 22.81%  of 0.21 MB    Download Progress: [##########------------------------] 30.41%  of 0.21 MB    Download Progress: [#############---------------------] 38.02%  of 0.21 MB    Download Progress: [################------------------] 45.62%  of 0.21 MB    Download Progress: [##################----------------] 53.23%  of 0.21 MB    Download Progress: [#####################-------------] 60.83%  of 0.21 MB    Download Progress: [#######################-----------] 68.43%  of 0.21 MB    Download Progress: [##########################--------] 76.04%  of 0.21 MB    Download Progress: [############################------] 83.64%  of 0.21 MB    Download Progress: [###############################---] 91.24%  of 0.21 MB    Download Progress: [##################################] 98.85%  of 0.21 MB    Download Progress: [##################################] 100.00%  of 0.21 MBDownloading "wiki_edges.txt" to /home/travis/.fury/examples/wiki_nw
    Download Progress: [----------------------------------] 1.28%  of 1.22 MB    Download Progress: [#---------------------------------] 2.57%  of 1.22 MB    Download Progress: [#---------------------------------] 3.85%  of 1.22 MB    Download Progress: [##--------------------------------] 5.14%  of 1.22 MB    Download Progress: [##--------------------------------] 6.42%  of 1.22 MB    Download Progress: [###-------------------------------] 7.71%  of 1.22 MB    Download Progress: [###-------------------------------] 8.99%  of 1.22 MB    Download Progress: [###-------------------------------] 10.28%  of 1.22 MB    Download Progress: [####------------------------------] 11.56%  of 1.22 MB    Download Progress: [####------------------------------] 12.85%  of 1.22 MB    Download Progress: [#####-----------------------------] 14.13%  of 1.22 MB    Download Progress: [#####-----------------------------] 15.42%  of 1.22 MB    Download Progress: [######----------------------------] 16.70%  of 1.22 MB    Download Progress: [######----------------------------] 17.98%  of 1.22 MB    Download Progress: [#######---------------------------] 19.27%  of 1.22 MB    Download Progress: [#######---------------------------] 20.55%  of 1.22 MB    Download Progress: [#######---------------------------] 21.84%  of 1.22 MB    Download Progress: [########--------------------------] 23.12%  of 1.22 MB    Download Progress: [########--------------------------] 24.41%  of 1.22 MB    Download Progress: [#########-------------------------] 25.69%  of 1.22 MB    Download Progress: [#########-------------------------] 26.98%  of 1.22 MB    Download Progress: [##########------------------------] 28.26%  of 1.22 MB    Download Progress: [##########------------------------] 29.55%  of 1.22 MB    Download Progress: [##########------------------------] 30.83%  of 1.22 MB    Download Progress: [###########-----------------------] 32.11%  of 1.22 MB    Download Progress: [###########-----------------------] 33.40%  of 1.22 MB    Download Progress: [############----------------------] 34.68%  of 1.22 MB    Download Progress: [############----------------------] 35.97%  of 1.22 MB    Download Progress: [#############---------------------] 37.25%  of 1.22 MB    Download Progress: [#############---------------------] 38.54%  of 1.22 MB    Download Progress: [##############--------------------] 39.82%  of 1.22 MB    Download Progress: [##############--------------------] 41.11%  of 1.22 MB    Download Progress: [##############--------------------] 42.39%  of 1.22 MB    Download Progress: [###############-------------------] 43.68%  of 1.22 MB    Download Progress: [###############-------------------] 44.96%  of 1.22 MB    Download Progress: [################------------------] 46.25%  of 1.22 MB    Download Progress: [################------------------] 47.53%  of 1.22 MB    Download Progress: [#################-----------------] 48.81%  of 1.22 MB    Download Progress: [#################-----------------] 50.10%  of 1.22 MB    Download Progress: [#################-----------------] 51.38%  of 1.22 MB    Download Progress: [##################----------------] 52.67%  of 1.22 MB    Download Progress: [##################----------------] 53.95%  of 1.22 MB    Download Progress: [###################---------------] 55.24%  of 1.22 MB    Download Progress: [###################---------------] 56.52%  of 1.22 MB    Download Progress: [####################--------------] 57.81%  of 1.22 MB    Download Progress: [####################--------------] 59.09%  of 1.22 MB    Download Progress: [#####################-------------] 60.38%  of 1.22 MB    Download Progress: [#####################-------------] 61.66%  of 1.22 MB    Download Progress: [#####################-------------] 62.95%  of 1.22 MB    Download Progress: [######################------------] 64.23%  of 1.22 MB    Download Progress: [######################------------] 65.51%  of 1.22 MB    Download Progress: [#######################-----------] 66.80%  of 1.22 MB    Download Progress: [#######################-----------] 68.08%  of 1.22 MB    Download Progress: [########################----------] 69.37%  of 1.22 MB    Download Progress: [########################----------] 70.65%  of 1.22 MB    Download Progress: [########################----------] 71.94%  of 1.22 MB    Download Progress: [#########################---------] 73.22%  of 1.22 MB    Download Progress: [#########################---------] 74.51%  of 1.22 MB    Download Progress: [##########################--------] 75.79%  of 1.22 MB    Download Progress: [##########################--------] 77.08%  of 1.22 MB    Download Progress: [###########################-------] 78.36%  of 1.22 MB    Download Progress: [###########################-------] 79.64%  of 1.22 MB    Download Progress: [############################------] 80.93%  of 1.22 MB    Download Progress: [############################------] 82.21%  of 1.22 MB    Download Progress: [############################------] 83.50%  of 1.22 MB    Download Progress: [#############################-----] 84.78%  of 1.22 MB    Download Progress: [#############################-----] 86.07%  of 1.22 MB    Download Progress: [##############################----] 87.35%  of 1.22 MB    Download Progress: [##############################----] 88.64%  of 1.22 MB    Download Progress: [###############################---] 89.92%  of 1.22 MB    Download Progress: [###############################---] 91.21%  of 1.22 MB    Download Progress: [###############################---] 92.49%  of 1.22 MB    Download Progress: [################################--] 93.78%  of 1.22 MB    Download Progress: [################################--] 95.06%  of 1.22 MB    Download Progress: [#################################-] 96.34%  of 1.22 MB    Download Progress: [#################################-] 97.63%  of 1.22 MB    Download Progress: [##################################] 98.91%  of 1.22 MB    Download Progress: [##################################] 100.00%  of 1.22 MBDownloading "wiki_positions.txt" to /home/travis/.fury/examples/wiki_nw
    Download Progress: [----------------------------------] 0.92%  of 1.71 MB    Download Progress: [#---------------------------------] 1.83%  of 1.71 MB    Download Progress: [#---------------------------------] 2.75%  of 1.71 MB    Download Progress: [#---------------------------------] 3.66%  of 1.71 MB    Download Progress: [##--------------------------------] 4.58%  of 1.71 MB    Download Progress: [##--------------------------------] 5.49%  of 1.71 MB    Download Progress: [##--------------------------------] 6.41%  of 1.71 MB    Download Progress: [##--------------------------------] 7.32%  of 1.71 MB    Download Progress: [###-------------------------------] 8.24%  of 1.71 MB    Download Progress: [###-------------------------------] 9.15%  of 1.71 MB    Download Progress: [###-------------------------------] 10.07%  of 1.71 MB    Download Progress: [####------------------------------] 10.98%  of 1.71 MB    Download Progress: [####------------------------------] 11.90%  of 1.71 MB    Download Progress: [####------------------------------] 12.81%  of 1.71 MB    Download Progress: [#####-----------------------------] 13.73%  of 1.71 MB    Download Progress: [#####-----------------------------] 14.64%  of 1.71 MB    Download Progress: [#####-----------------------------] 15.56%  of 1.71 MB    Download Progress: [######----------------------------] 16.47%  of 1.71 MB    Download Progress: [######----------------------------] 17.39%  of 1.71 MB    Download Progress: [######----------------------------] 18.30%  of 1.71 MB    Download Progress: [#######---------------------------] 19.22%  of 1.71 MB    Download Progress: [#######---------------------------] 20.13%  of 1.71 MB    Download Progress: [#######---------------------------] 21.05%  of 1.71 MB    Download Progress: [#######---------------------------] 21.96%  of 1.71 MB    Download Progress: [########--------------------------] 22.88%  of 1.71 MB    Download Progress: [########--------------------------] 23.79%  of 1.71 MB    Download Progress: [########--------------------------] 24.71%  of 1.71 MB    Download Progress: [#########-------------------------] 25.62%  of 1.71 MB    Download Progress: [#########-------------------------] 26.54%  of 1.71 MB    Download Progress: [#########-------------------------] 27.45%  of 1.71 MB    Download Progress: [##########------------------------] 28.37%  of 1.71 MB    Download Progress: [##########------------------------] 29.28%  of 1.71 MB    Download Progress: [##########------------------------] 30.20%  of 1.71 MB    Download Progress: [###########-----------------------] 31.11%  of 1.71 MB    Download Progress: [###########-----------------------] 32.03%  of 1.71 MB    Download Progress: [###########-----------------------] 32.94%  of 1.71 MB    Download Progress: [############----------------------] 33.86%  of 1.71 MB    Download Progress: [############----------------------] 34.77%  of 1.71 MB    Download Progress: [############----------------------] 35.69%  of 1.71 MB    Download Progress: [############----------------------] 36.60%  of 1.71 MB    Download Progress: [#############---------------------] 37.52%  of 1.71 MB    Download Progress: [#############---------------------] 38.43%  of 1.71 MB    Download Progress: [#############---------------------] 39.35%  of 1.71 MB    Download Progress: [##############--------------------] 40.27%  of 1.71 MB    Download Progress: [##############--------------------] 41.18%  of 1.71 MB    Download Progress: [##############--------------------] 42.10%  of 1.71 MB    Download Progress: [###############-------------------] 43.01%  of 1.71 MB    Download Progress: [###############-------------------] 43.93%  of 1.71 MB    Download Progress: [###############-------------------] 44.84%  of 1.71 MB    Download Progress: [################------------------] 45.76%  of 1.71 MB    Download Progress: [################------------------] 46.67%  of 1.71 MB    Download Progress: [################------------------] 47.59%  of 1.71 MB    Download Progress: [################------------------] 48.50%  of 1.71 MB    Download Progress: [#################-----------------] 49.42%  of 1.71 MB    Download Progress: [#################-----------------] 50.33%  of 1.71 MB    Download Progress: [#################-----------------] 51.25%  of 1.71 MB    Download Progress: [##################----------------] 52.16%  of 1.71 MB    Download Progress: [##################----------------] 53.08%  of 1.71 MB    Download Progress: [##################----------------] 53.99%  of 1.71 MB    Download Progress: [###################---------------] 54.91%  of 1.71 MB    Download Progress: [###################---------------] 55.82%  of 1.71 MB    Download Progress: [###################---------------] 56.74%  of 1.71 MB    Download Progress: [####################--------------] 57.65%  of 1.71 MB    Download Progress: [####################--------------] 58.57%  of 1.71 MB    Download Progress: [####################--------------] 59.48%  of 1.71 MB    Download Progress: [#####################-------------] 60.40%  of 1.71 MB    Download Progress: [#####################-------------] 61.31%  of 1.71 MB    Download Progress: [#####################-------------] 62.23%  of 1.71 MB    Download Progress: [#####################-------------] 63.14%  of 1.71 MB    Download Progress: [######################------------] 64.06%  of 1.71 MB    Download Progress: [######################------------] 64.97%  of 1.71 MB    Download Progress: [######################------------] 65.89%  of 1.71 MB    Download Progress: [#######################-----------] 66.80%  of 1.71 MB    Download Progress: [#######################-----------] 67.72%  of 1.71 MB    Download Progress: [#######################-----------] 68.63%  of 1.71 MB    Download Progress: [########################----------] 69.55%  of 1.71 MB    Download Progress: [########################----------] 70.46%  of 1.71 MB    Download Progress: [########################----------] 71.38%  of 1.71 MB    Download Progress: [#########################---------] 72.29%  of 1.71 MB    Download Progress: [#########################---------] 73.21%  of 1.71 MB    Download Progress: [#########################---------] 74.12%  of 1.71 MB    Download Progress: [##########################--------] 75.04%  of 1.71 MB    Download Progress: [##########################--------] 75.95%  of 1.71 MB    Download Progress: [##########################--------] 76.87%  of 1.71 MB    Download Progress: [##########################--------] 77.78%  of 1.71 MB    Download Progress: [###########################-------] 78.70%  of 1.71 MB    Download Progress: [###########################-------] 79.62%  of 1.71 MB    Download Progress: [###########################-------] 80.53%  of 1.71 MB    Download Progress: [############################------] 81.45%  of 1.71 MB    Download Progress: [############################------] 82.36%  of 1.71 MB    Download Progress: [############################------] 83.28%  of 1.71 MB    Download Progress: [#############################-----] 84.19%  of 1.71 MB    Download Progress: [#############################-----] 85.11%  of 1.71 MB    Download Progress: [#############################-----] 86.02%  of 1.71 MB    Download Progress: [##############################----] 86.94%  of 1.71 MB    Download Progress: [##############################----] 87.85%  of 1.71 MB    Download Progress: [##############################----] 88.77%  of 1.71 MB    Download Progress: [##############################----] 89.68%  of 1.71 MB    Download Progress: [###############################---] 90.60%  of 1.71 MB    Download Progress: [###############################---] 91.51%  of 1.71 MB    Download Progress: [###############################---] 92.43%  of 1.71 MB    Download Progress: [################################--] 93.34%  of 1.71 MB    Download Progress: [################################--] 94.26%  of 1.71 MB    Download Progress: [################################--] 95.17%  of 1.71 MB    Download Progress: [#################################-] 96.09%  of 1.71 MB    Download Progress: [#################################-] 97.00%  of 1.71 MB    Download Progress: [#################################-] 97.92%  of 1.71 MB    Download Progress: [##################################] 98.83%  of 1.71 MB    Download Progress: [##################################] 99.75%  of 1.71 MB    Download Progress: [##################################] 100.00%  of 1.71 MBFiles successfully downloaded to /home/travis/.fury/examples/wiki_nw
    More information about complex networks can be found in this papers: https://arxiv.org/abs/0711.3199




We read our datasets


.. code-block:: default


    positions = np.loadtxt(pjoin(folder, positions_file))
    categories = np.loadtxt(pjoin(folder, categories_file), dtype=str)
    edges = np.loadtxt(pjoin(folder, edges_file), dtype=np.int)








We attribute a color to each category of our dataset which correspond to our
nodes colors.


.. code-block:: default


    category2index = {category: i
                      for i, category in enumerate(np.unique(categories))}

    index2category = np.unique(categories)

    categoryColors = cmap.distinguishable_colormap(nb_colors=len(index2category))

    colors = np.array([categoryColors[category2index[category]]
                       for category in categories])








We define our node size


.. code-block:: default


    radii = 1 + np.random.rand(len(positions))








Lets create our edges now. They will indicate a citation between two nodes.
OF course, the colors of each edges will be an interpolation between the two
node that it connects.


.. code-block:: default


    edgesPositions = []
    edgesColors = []
    for source, target in edges:
        edgesPositions.append(np.array([positions[source], positions[target]]))
        edgesColors.append(np.array([colors[source], colors[target]]))

    edgesPositions = np.array(edgesPositions)
    edgesColors = np.average(np.array(edgesColors), axis=1)








Our data preparation is ready, it is time to visualize them all. We start to
build 2 actors that we represent our data : sphere_actor for the nodes and
lines_actor for the edges.


.. code-block:: default


    sphere_actor = actor.sphere(centers=positions,
                                colors=colors,
                                radii=radii*0.5,
                                theta=8,
                                phi=8,
                                )

    lines_actor = actor.line(edgesPositions,
                             colors=edgesColors,
                             opacity=0.1,
                             )








All actors need to be added in a scene, so we build one and add our
lines_actor and sphere_actor.


.. code-block:: default


    scene = window.Scene()

    scene.add(lines_actor)
    scene.add(sphere_actor)








The final step ! Visualize and save the result of our creation! Please,
switch interactive variable to True if you want to visualize it.


.. code-block:: default


    interactive = False

    if interactive:
        window.show(scene, size=(600, 600))

    window.record(scene, out_path='journal_networks.png', size=(600, 600))




.. image:: /auto_examples/images/sphx_glr_viz_network_001.png
    :alt: viz network
    :class: sphx-glr-single-img





This example can be improved by adding some interactivy with slider,
picking, etc. Play with it, improve it!


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  7.111 seconds)


.. _sphx_glr_download_auto_examples_viz_network.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: viz_network.py <viz_network.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: viz_network.ipynb <viz_network.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
