
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>FURY - pyBullet Integration Guide &#8212; FURY 0.8.0.post1452+gacb248b4 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom_github.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/vendor/fonts.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'fury-pybullet';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://fury.gl/latest/_static/versions_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'v0.8.0.post1452+gacb248b4';
        </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="reference/index.html" />
    <link rel="prev" title="Wrecking Ball Simulation" href="auto_examples/physics_using_pybullet/viz_wrecking_ball.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    <div id="navbar-start">
    <a class="navbar-brand" href="index.html">
        <img src="_static/images/logo.svg" class="logo" alt="logo" style="padding-right: 1rem;">
        <!-- <img src="_static/images/text-logo.png" class="logo" alt="logo"> -->
        <div id="navbar-logo-text" style="color: #990000;">FURY</div>
    </a>
</div>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link" href="installation.html">Installation</a>
    </li>
    <li class="nav-item ">
        <a class="nav-link" href="introduction.html">About</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="reference/index.html">API reference</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="blog.html">Blog</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="community.html">Community</a>
    </li>
    
</ul><ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link" href="installation.html">Installation</a>
    </li>
    <li class="nav-item ">
        <a class="nav-link" href="introduction.html">About</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="reference/index.html">API reference</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="blog.html">Blog</a>
    </li>

    <li class="nav-item ">
        <a class="nav-link" href="community.html">Community</a>
    </li>
    
</ul><ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item">
<h3><a href="index.html">Table of Contents</a></h3>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About FURY</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="symlink/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="blog.html">Blog</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Programming with FURY</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Demos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FURY - pyBullet Integration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simple-rigid-body-dynamics">Simple Rigid Body Dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="symlink/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Join our community!</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/6btFPPj">Discord Community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://mail.python.org/mailman3/lists/fury.python.org">Mailing list</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fury-gl/fury">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fury-gl/fury/issues/new/choose">File a bug</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fury-gl/fury/issues/new/choose">Feature Request</a></li>
</ul>

    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="fury-pybullet-integration-guide">
<span id="fury-pybullet"></span><h1>FURY - pyBullet Integration Guide<a class="headerlink" href="#fury-pybullet-integration-guide" title="Permalink to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#simple-rigid-body-dynamics" id="id1">Simple Rigid Body Dynamics</a></p>
<ul>
<li><p><a class="reference internal" href="#necessary-imports" id="id2">Necessary Imports</a></p></li>
<li><p><a class="reference internal" href="#connection-mode" id="id3">Connection Mode</a></p></li>
<li><p><a class="reference internal" href="#disconnection" id="id4">Disconnection</a></p></li>
<li><p><a class="reference internal" href="#setting-gravity" id="id5">Setting Gravity</a></p></li>
<li><p><a class="reference internal" href="#creating-objects" id="id6">Creating Objects</a></p></li>
<li><p><a class="reference internal" href="#changing-object-dynamics" id="id7">Changing Object Dynamics</a></p></li>
<li><p><a class="reference internal" href="#adding-objects-to-the-scene" id="id8">Adding objects to the scene</a></p></li>
<li><p><a class="reference internal" href="#application-of-force-torque" id="id9">Application of Force/Torque</a></p></li>
<li><p><a class="reference internal" href="#enabling-collision" id="id10">Enabling collision</a></p></li>
<li><p><a class="reference internal" href="#creation-of-show-manager" id="id11">Creation of Show Manager</a></p></li>
<li><p><a class="reference internal" href="#syncing-properties-of-actors" id="id12">Syncing properties of actors</a></p></li>
<li><p><a class="reference internal" href="#creation-of-timer-callback" id="id13">Creation of Timer Callback</a></p></li>
<li><p><a class="reference internal" href="#initiating-the-simulation" id="id14">Initiating the simulation</a></p></li>
<li><p><a class="reference internal" href="#rendering-multiple-objects-by-a-single-actor" id="id15">Rendering multiple objects by a single actor</a></p>
<ul>
<li><p><a class="reference internal" href="#rendering-objects-in-fury" id="id16">Rendering objects in FURY</a></p></li>
<li><p><a class="reference internal" href="#render-pybullet-objects" id="id17">Render Pybullet Objects</a></p></li>
<li><p><a class="reference internal" href="#syncing-objects" id="id18">Syncing objects</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#rendering-joints" id="id19">Rendering Joints</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples" id="id20">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#brick-wall-simulation" id="id21">Brick Wall Simulation</a></p></li>
<li><p><a class="reference internal" href="#ball-collision-simulation" id="id22">Ball Collision Simulation</a></p></li>
<li><p><a class="reference internal" href="#brick-wall-simulation-single-actor" id="id23">Brick Wall Simulation(Single Actor)</a></p></li>
<li><p><a class="reference internal" href="#chain-simulation" id="id24">Chain Simulation</a></p></li>
<li><p><a class="reference internal" href="#wrecking-ball-simulation" id="id25">Wrecking Ball Simulation</a></p></li>
<li><p><a class="reference internal" href="#domino-simulation" id="id26">Domino Simulation</a></p></li>
</ul>
</li>
</ul>
</nav>
<dl class="simple">
<dt><strong>Official docs:</strong></dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://fury.gl/latest/reference/index.html">FURY</a></p></li>
<li><p><a class="reference external" href="https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#">pyBullet</a></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All elements are in SI units.</p>
</div>
<section id="simple-rigid-body-dynamics">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Simple Rigid Body Dynamics</a><a class="headerlink" href="#simple-rigid-body-dynamics" title="Permalink to this heading">#</a></h2>
<section id="necessary-imports">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Necessary Imports</a><a class="headerlink" href="#necessary-imports" title="Permalink to this heading">#</a></h3>
<p>The following imports are necessary for physics simulations:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Imports</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Numpy</p></td>
<td><p>Creation of arrays and conversion of radians to degrees.</p></td>
</tr>
<tr class="row-odd"><td><p>FURY</p></td>
<td><p>Window and Actor API is used to visualize the simulation.</p></td>
</tr>
<tr class="row-even"><td><p>pyBullet</p></td>
<td><p>Physics simulation.</p></td>
</tr>
<tr class="row-odd"><td><p>Itertools</p></td>
<td><p>The Counter iterator for keeping track of simulation steps.</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">fury</span> <span class="kn">import</span> <span class="n">window</span><span class="p">,</span> <span class="n">actor</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">pybullet</span> <span class="k">as</span> <span class="nn">p</span>
</pre></div>
</div>
</section>
<section id="connection-mode">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Connection Mode</a><a class="headerlink" href="#connection-mode" title="Permalink to this heading">#</a></h3>
<p><em>“After importing the PyBullet module, the first thing to do is ‘connecting’ to the physics simulation. PyBullet is designed around a client-server driven API, with a client sending commands and a physics server returning the status. PyBullet has some built-in physics servers: DIRECT and GUI.”</em></p>
<p>In our case we use <strong>DIRECT</strong> connection as the visualization will be handled by FURY.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">DIRECT</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keeping track of physics client ID is optional unless multiple physics clients are used. In order to observe the same simulation in pybullet, replace <code class="docutils literal notranslate"><span class="pre">p.DIRECT</span></code> with <code class="docutils literal notranslate"><span class="pre">p.GUI</span></code>.</p>
</div>
</section>
<section id="disconnection">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Disconnection</a><a class="headerlink" href="#disconnection" title="Permalink to this heading">#</a></h3>
<p>PyBullet Physics client can be shutdown by the following command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="setting-gravity">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Setting Gravity</a><a class="headerlink" href="#setting-gravity" title="Permalink to this heading">#</a></h3>
<p>Global <a class="reference internal" href="reference/fury.window.html#fury.window.Scene" title="fury.window.Scene"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scene()</span></code></a> gravity can be set using the following command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gravity vector.</span>
<span class="n">gravity_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">gravity_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">gravity_z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="n">p</span><span class="o">.</span><span class="n">setGravity</span><span class="p">(</span><span class="n">gravity_x</span><span class="p">,</span> <span class="n">gravity_y</span><span class="p">,</span> <span class="n">gravity_z</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-objects">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Creating Objects</a><a class="headerlink" href="#creating-objects" title="Permalink to this heading">#</a></h3>
<p>The following criterion must be fulfilled in order to create an object which is in sync with both FURY and pyBullet:</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Object Actor</p></td>
<td><p>The actor which will be rendered by FURY</p></td>
</tr>
<tr class="row-even"><td><p>Collision Shape</p></td>
<td><p>The shape used by pybullet for collision simulations.
<strong>Optional</strong> if collision simulation is not required.</p></td>
</tr>
<tr class="row-odd"><td><p>Multi-Body</p></td>
<td><p>The object that will be tracked by pybullet for general simulations.</p></td>
</tr>
</tbody>
</table>
<p>The following is a snippet for creating a spherical ball of radius = 0.3</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">###### Creating BALL</span>
<span class="c1"># Ball actor</span>
<span class="n">ball_actor</span> <span class="o">=</span> <span class="n">actor</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="n">centers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]),</span>
                          <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]),</span>
                          <span class="n">radii</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Collision shape for the ball.</span>
<span class="n">ball_coll</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">createCollisionShape</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">GEOM_SPHERE</span><span class="p">,</span>
                                   <span class="n">radius</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Creating a Multibody which will be tracked by pybullet.</span>
<span class="n">ball</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">createMultiBody</span><span class="p">(</span><span class="n">baseMass</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                         <span class="n">baseCollisionShapeIndex</span><span class="o">=</span><span class="n">ball_coll</span><span class="p">,</span>
                         <span class="n">basePosition</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span>
                         <span class="n">baseOrientation</span><span class="o">=</span><span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">])</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Centers for the actor must be set to <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></code> or else the simulation will be offset by that particular value.</p>
</div>
</section>
<section id="changing-object-dynamics">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Changing Object Dynamics</a><a class="headerlink" href="#changing-object-dynamics" title="Permalink to this heading">#</a></h3>
<p>Object dynamics such as mass, lateral_friction, damping, inertial_pos, inertial_orn, restitution, rolling friction etc can be changed. The following snippet shows how to change the lateral_friction and coeff of restitution of the same ball:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">changeDynamics</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">lateralFriction</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">restitution</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The second parameter is <code class="docutils literal notranslate"><span class="pre">linkIndex</span></code> which is for bodies having multiple links or joints. Passing -1 means applying changes to the base object.</p>
</div>
</section>
<section id="adding-objects-to-the-scene">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Adding objects to the scene</a><a class="headerlink" href="#adding-objects-to-the-scene" title="Permalink to this heading">#</a></h3>
<p>Objects can be added simply by adding their respective actors to the scene.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scene</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ball_actor</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="application-of-force-torque">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Application of Force/Torque</a><a class="headerlink" href="#application-of-force-torque" title="Permalink to this heading">#</a></h3>
<p>External force or torque to a body can be applied using applyExternalForce and applyExternalTorque. For e.g</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">applyExternalForce</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">forceObj</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                     <span class="n">posObj</span><span class="o">=</span><span class="n">ball_pos</span><span class="p">,</span>
                     <span class="n">flags</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">WORLD_FRAME</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, the first argument refers to the object, the second one refers to the link, <code class="docutils literal notranslate"><span class="pre">forceObj</span></code> = force vector, <code class="docutils literal notranslate"><span class="pre">posObj</span></code> = Position Vector of the application of force. [Not applicable for <code class="docutils literal notranslate"><span class="pre">applyExternalTorque</span></code>].</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">applyExternalTorque</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">forceObj</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                     <span class="n">flags</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">WORLD_FRAME</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="enabling-collision">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Enabling collision</a><a class="headerlink" href="#enabling-collision" title="Permalink to this heading">#</a></h3>
<p>By default, collision detection is enabled between different dynamic moving bodies. The following snippet can be used to enable/disable collision explicitly between a pair of objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">enableCol</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p</span><span class="o">.</span><span class="n">setCollisionFilterPair</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="n">brick</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">enableCol</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, we enable the collision between a ball and a brick object.</p>
</section>
<section id="creation-of-show-manager">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Creation of Show Manager</a><a class="headerlink" href="#creation-of-show-manager" title="Permalink to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">window.ShowManager</span></code> and <code class="docutils literal notranslate"><span class="pre">itertools.count</span></code> instance must be created before defining the timer callback function and setting it to initialize.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a show manager.</span>
<span class="n">showm</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">ShowManager</span><span class="p">(</span><span class="n">scene</span><span class="p">,</span>
                        <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">900</span><span class="p">,</span> <span class="mi">768</span><span class="p">),</span> <span class="n">reset_camera</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                        <span class="n">order_transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">showm</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="c1"># Counter iterator for tracking simulation steps.</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="syncing-properties-of-actors">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Syncing properties of actors</a><a class="headerlink" href="#syncing-properties-of-actors" title="Permalink to this heading">#</a></h3>
<p>The position and orientation of the actors in FURY can be updated by the values generated in pybullet during simulation. The following snippet updates all required parameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the position and orientation of the ball.</span>
<span class="n">ball_pos</span><span class="p">,</span> <span class="n">ball_orn</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getBasePositionAndOrientation</span><span class="p">(</span><span class="n">ball</span><span class="p">)</span>

<span class="c1"># Set position and orientation of the ball.</span>
<span class="n">ball_actor</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="o">*</span><span class="n">ball_pos</span><span class="p">)</span>
<span class="n">orn_deg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">getEulerFromQuaternion</span><span class="p">(</span><span class="n">ball_orn</span><span class="p">))</span>
<span class="n">ball_actor</span><span class="o">.</span><span class="n">SetOrientation</span><span class="p">(</span><span class="o">*</span><span class="n">orn_deg</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ball</span></code> and <code class="docutils literal notranslate"><span class="pre">ball_actor</span></code> can be replaced by the appropriate object and actor.</p>
</section>
<section id="creation-of-timer-callback">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Creation of Timer Callback</a><a class="headerlink" href="#creation-of-timer-callback" title="Permalink to this heading">#</a></h3>
<p>To simulate physics we need to call <code class="docutils literal notranslate"><span class="pre">p.stepSimulation()</span></code> in order to simulate a single step of physics simulation. Therefore, in order to update actors and simulate steps at each interval, we need to create a timer callback. At this point one can perform any operation that they feel like during each step of the simulation. This is also the appropriate section for the user to define all syncing activities required by the actors and render the scene accordingly. The following can be an example snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Counter iterator for tracking simulation steps.</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Variable for tracking applied force.</span>
<span class="n">apply_force</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Create a timer callback which will execute at each step of simulation.</span>
<span class="k">def</span> <span class="nf">timer_callback</span><span class="p">(</span><span class="n">_obj</span><span class="p">,</span> <span class="n">_event</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">apply_force</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
    <span class="n">showm</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
    <span class="c1"># Get the position and orientation of the ball.</span>
    <span class="n">ball_pos</span><span class="p">,</span> <span class="n">ball_orn</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getBasePositionAndOrientation</span><span class="p">(</span><span class="n">ball</span><span class="p">)</span>

    <span class="c1"># Apply force for 5 times for the first step of simulation.</span>
    <span class="k">if</span> <span class="n">apply_force</span><span class="p">:</span>
        <span class="c1"># Apply the force.</span>
        <span class="n">p</span><span class="o">.</span><span class="n">applyExternalForce</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                              <span class="n">forceObj</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                              <span class="n">posObj</span><span class="o">=</span><span class="n">ball_pos</span><span class="p">,</span>
                              <span class="n">flags</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">WORLD_FRAME</span><span class="p">)</span>
        <span class="n">apply_force</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Set position and orientation of the ball.</span>
    <span class="n">ball_actor</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="o">*</span><span class="n">ball_pos</span><span class="p">)</span>
    <span class="n">orn_deg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">getEulerFromQuaternion</span><span class="p">(</span><span class="n">ball_orn</span><span class="p">))</span>
    <span class="n">ball_actor</span><span class="o">.</span><span class="n">SetOrientation</span><span class="p">(</span><span class="o">*</span><span class="n">orn_deg</span><span class="p">)</span>
    <span class="n">ball_actor</span><span class="o">.</span><span class="n">RotateWXYZ</span><span class="p">(</span><span class="o">*</span><span class="n">ball_orn</span><span class="p">)</span>

    <span class="c1"># Simulate a step.</span>
    <span class="n">p</span><span class="o">.</span><span class="n">stepSimulation</span><span class="p">()</span>

    <span class="c1"># Exit after 2000 steps of simulation.</span>
    <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="mi">2000</span><span class="p">:</span>
        <span class="n">showm</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="c1"># Add the timer callback to showmanager.</span>
<span class="c1"># Increasing the duration value will slow down the simulation.</span>
<span class="n">showm</span><span class="o">.</span><span class="n">add_timer_callback</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">timer_callback</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="initiating-the-simulation">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Initiating the simulation</a><a class="headerlink" href="#initiating-the-simulation" title="Permalink to this heading">#</a></h3>
<p>Once everything is set up, one can execute <code class="docutils literal notranslate"><span class="pre">showm.start()</span></code> to start the simulation.</p>
</section>
<section id="rendering-multiple-objects-by-a-single-actor">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Rendering multiple objects by a single actor</a><a class="headerlink" href="#rendering-multiple-objects-by-a-single-actor" title="Permalink to this heading">#</a></h3>
<p>Rendering multiple similar objects by a single actor is possible by manually updating the vertices of the individual objects. The said procedure will be demonstrated with the help of the brick wall simulation example where each brick is rendered by a single actor.
Firstly, we need to define the following parameters:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Shape</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nb_objects</p></td>
<td><p>1, 1</p></td>
<td><p>Number of objects to be rendered</p></td>
</tr>
<tr class="row-odd"><td><p>object_centers</p></td>
<td><p>nb_objects, 3</p></td>
<td><p>To keep track of the centers in the xyz coordinate system. [x, y, z]</p></td>
</tr>
<tr class="row-even"><td><p>object_directions</p></td>
<td><p>nb_objects, 3</p></td>
<td><p>Array to track directions.</p></td>
</tr>
<tr class="row-odd"><td><p>object_orientations</p></td>
<td><p>nb_objects, 4</p></td>
<td><p>Array to track orientations in quaternions. [x, y, z, w]</p></td>
</tr>
<tr class="row-even"><td><p>object_colors</p></td>
<td><p>nb_bricks, 3</p></td>
<td><p>Array to track colors.</p></td>
</tr>
<tr class="row-odd"><td><p>object_collision</p></td>
<td><p>1, 1</p></td>
<td><p>Collision shape of the objects.</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">object_directions</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">object_orientations</span></code> must be updated together or else orientation of objects in both the worlds may not be in sync.</p>
</div>
<p>Once we are ready with the above variables and array, we can proceed further to render the objects both in the FURY and pybullet world:</p>
<section id="rendering-objects-in-fury">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Rendering objects in FURY</a><a class="headerlink" href="#rendering-objects-in-fury" title="Permalink to this heading">#</a></h4>
<p>To render objects in the FURY world we simply call the respective actors. For this example we call <code class="docutils literal notranslate"><span class="pre">actor.box</span></code> for rendering the bricks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">brick_actor_single</span> <span class="o">=</span> <span class="n">actor</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">centers</span><span class="o">=</span><span class="n">brick_centers</span><span class="p">,</span>
                            <span class="n">directions</span><span class="o">=</span><span class="n">brick_directions</span><span class="p">,</span>
                            <span class="n">scales</span><span class="o">=</span><span class="n">brick_sizes</span><span class="p">,</span>
                            <span class="n">colors</span><span class="o">=</span><span class="n">brick_colors</span><span class="p">)</span>

<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">brick_actor_single</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="render-pybullet-objects">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Render Pybullet Objects</a><a class="headerlink" href="#render-pybullet-objects" title="Permalink to this heading">#</a></h4>
<p>Now to render pybullet objects we simply create a list of multibodies:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bricks</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">createMultiBody</span><span class="p">(</span><span class="n">baseMass</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                              <span class="n">baseCollisionShapeIndex</span><span class="o">=</span><span class="n">brick_coll</span><span class="p">,</span>
                              <span class="n">basePosition</span><span class="o">=</span><span class="n">center_pos</span><span class="p">,</span>
                              <span class="n">baseOrientation</span><span class="o">=</span><span class="n">brick_orn</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="syncing-objects">
<h4><a class="toc-backref" href="#id18" role="doc-backlink">Syncing objects</a><a class="headerlink" href="#syncing-objects" title="Permalink to this heading">#</a></h4>
<p>Now in order to calculate and the vertices we execute the following snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vertices</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">vertices_from_actor</span><span class="p">(</span><span class="n">brick_actor_single</span><span class="p">)</span>
<span class="n">num_vertices</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">num_objects</span> <span class="o">=</span> <span class="n">brick_centers</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sec</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_vertices</span> <span class="o">/</span> <span class="n">num_objects</span><span class="p">)</span>
</pre></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Vertices</p></th>
<th class="head"><p>Array storing vertices of all the objects.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>num_vertices</p></td>
<td><p>Number of vertices required to render the objects.</p></td>
</tr>
<tr class="row-odd"><td><p>num_objects</p></td>
<td><p>Number of objects rendered</p></td>
</tr>
<tr class="row-even"><td><p>sec</p></td>
<td><p>Number of vertices required to render a single object.</p></td>
</tr>
</tbody>
</table>
<p>Now the pybullet and FURY objects can be synced together by the following snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sync_brick</span><span class="p">(</span><span class="n">object_index</span><span class="p">,</span> <span class="n">multibody</span><span class="p">):</span>
  <span class="n">pos</span><span class="p">,</span> <span class="n">orn</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getBasePositionAndOrientation</span><span class="p">(</span><span class="n">multibody</span><span class="p">)</span>

  <span class="n">rot_mat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
      <span class="n">p</span><span class="o">.</span><span class="n">getMatrixFromQuaternion</span><span class="p">(</span>
          <span class="n">p</span><span class="o">.</span><span class="n">getDifferenceQuaternion</span><span class="p">(</span><span class="n">orn</span><span class="p">,</span> <span class="n">brick_orns</span><span class="p">[</span><span class="n">object_index</span><span class="p">])),</span>
      <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

  <span class="n">vertices</span><span class="p">[</span><span class="n">object_index</span> <span class="o">*</span> <span class="n">sec</span><span class="p">:</span> <span class="n">object_index</span> <span class="o">*</span> <span class="n">sec</span> <span class="o">+</span> <span class="n">sec</span><span class="p">]</span> <span class="o">=</span> \
      <span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">object_index</span> <span class="o">*</span> <span class="n">sec</span><span class="p">:</span> <span class="n">object_index</span> <span class="o">*</span> <span class="n">sec</span> <span class="o">+</span> <span class="n">sec</span><span class="p">]</span> <span class="o">-</span>
      <span class="n">brick_centers</span><span class="p">[</span><span class="n">object_index</span><span class="p">])</span><span class="nd">@rot_mat</span> <span class="o">+</span> <span class="n">pos</span>

  <span class="n">brick_centers</span><span class="p">[</span><span class="n">object_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span>
  <span class="n">brick_orns</span><span class="p">[</span><span class="n">object_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">orn</span>
</pre></div>
</div>
<p>In order to Sync correctly, we do the following:</p>
<ol class="arabic simple">
<li><p>First we get the current position and orientation of the objects in the pybullet world with the help of <code class="docutils literal notranslate"><span class="pre">p.getBasePositionAndOrientation</span></code>.</p></li>
<li><p>Then we calculate the difference between two quaternions using <code class="docutils literal notranslate"><span class="pre">p.getDifferenceFromQuarternion</span></code>.</p></li>
<li><p>The said difference is then passed to <code class="docutils literal notranslate"><span class="pre">p.getMatrixFromQuaternion</span></code> to calculate the rotation matrix.</p></li>
<li><p>Now the method returns a tuple of size 9. Therefore we finally need to reshape the said tuple into a 3x3 matrix with the help of <code class="docutils literal notranslate"><span class="pre">np.reshape</span></code>.</p></li>
<li><p>Next, we slice the necessary part of the vertices which render our desired object.</p></li>
<li><p>Then we bring it back to the origin by subtracting their centers.</p></li>
<li><p>After that we perform matrix multiplication of the rotation matrix and the vertices to orient the object.</p></li>
<li><p>After orientation we bring the object to its new position.</p></li>
<li><p>Finally we update the centers and the orientation of the object.</p></li>
</ol>
<p>Lastly, we call this function in our timer callback to sync the objects correctly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VTK has an in-built method to handle gimbal locks therefore using <code class="docutils literal notranslate"><span class="pre">actor.SetOrientation</span></code> may lead to unwanted spinning simulations each time a gimbal lock is experienced. Hence, it is always advisable to use vertices and its corresponding rotation matrix to set the orientation.</p>
</div>
</section>
</section>
<section id="rendering-joints">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Rendering Joints</a><a class="headerlink" href="#rendering-joints" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_joints.png" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_joints.png" />
<p>A simulated robot as described in a URDF file has a base, and optionally links connected by joints. Each joint connects one parent link to a child link. At the root of the hierarchy there is a single root parent that we call base. The base can be either fully fixed, 0 degrees of freedom, or fully free, with 6 degrees of freedom. Since each link is connected to a parent with a single joint, the number of joints is equal to the number of links. Regular links have link indices in the range <code class="docutils literal notranslate"><span class="pre">[0..getNumJoints()]</span></code> Since the base is not a regular ‘link’, we use the convention of -1 as its link index. We use the convention that joint frames are expressed relative to the parent center of mass inertial frame, which is aligned with the principal axis of inertia. To know more how joints are implemented in pybullet refer the official docs.</p>
<p>We can create and sync joints in pybullet and FURY by following a few simple steps:</p>
<p>Firstly, in order to create objects with multiple joints we need to keep track of the following parameters:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Vertices</p></th>
<th class="head"><p>Shape</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nb_links</p></td>
<td><p>1,1</p></td>
<td><p>Number of links to be rendered.</p></td>
</tr>
<tr class="row-odd"><td><p>link_masses</p></td>
<td><p>nb_links</p></td>
<td><p>Masses of the links.</p></td>
</tr>
<tr class="row-even"><td><p>linkCollisionShapeIndices</p></td>
<td><p>nb_links</p></td>
<td><p>Array tracking the collision shape IDs.</p></td>
</tr>
<tr class="row-odd"><td><p>linkVisualShapeIndices</p></td>
<td><p>nb_links</p></td>
<td><p>Optional as we won’t be using
pybullet’s GUI render.</p></td>
</tr>
<tr class="row-even"><td><p>linkPositions</p></td>
<td><p>nb_links, 3</p></td>
<td><p>Position of the links in [x, y, z].</p></td>
</tr>
<tr class="row-odd"><td><p>linkOrientations</p></td>
<td><p>nb_links, 4</p></td>
<td><p>Orientation of the links in
[x, y, z, w].</p></td>
</tr>
<tr class="row-even"><td><p>linkInertialFramePositions</p></td>
<td><p>nb_links, 3</p></td>
<td><p>Position of the inertial frame of the
links.</p></td>
</tr>
<tr class="row-odd"><td><p>linkInertialFrameOrns</p></td>
<td><p>nb_links, 4</p></td>
<td><p>Orientation of the inertial frame of
the links.</p></td>
</tr>
<tr class="row-even"><td><p>indices</p></td>
<td><p>nb_link</p></td>
<td><p>Link ID each corresponding link is
supposed to attach at.</p></td>
</tr>
<tr class="row-odd"><td><p>jointTypes</p></td>
<td><p>nb_link</p></td>
<td><p>The type of joint between the links.
Multiple joint types are available.</p></td>
</tr>
<tr class="row-even"><td><p>axis</p></td>
<td><p>nb_links, 3</p></td>
<td><p>The axis at which each link is supposed
to rotate.</p></td>
</tr>
<tr class="row-odd"><td><p>linkDirections</p></td>
<td><p>nb_links, 3</p></td>
<td><p>Direction vector required to render
links in FURY.</p></td>
</tr>
</tbody>
</table>
<p>Extra Arrays such as <code class="docutils literal notranslate"><span class="pre">linkHeights</span></code>, <code class="docutils literal notranslate"><span class="pre">linkRadii</span></code> etc may be required based on the link shape.
<strong>Base link</strong> is rendered separately, hence the above parameters should not contain information about the base link.</p>
<p>Now separately create definitions for the base link using the following parameters. Once we are ready with the required link parameters and definition, we can create a multibody to be rendered in the pybullet world. We can do so using <code class="docutils literal notranslate"><span class="pre">p.createMultiBody</span></code>. Here’s a snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rope</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">createMultiBody</span><span class="p">(</span><span class="n">base_mass</span><span class="p">,</span>
                         <span class="n">base_shape</span><span class="p">,</span>
                         <span class="n">visualShapeId</span><span class="p">,</span>
                         <span class="n">basePosition</span><span class="p">,</span>
                         <span class="n">baseOrientation</span><span class="p">,</span>
                         <span class="n">linkMasses</span><span class="o">=</span><span class="n">link_Masses</span><span class="p">,</span>
                        <span class="n">linkCollisionShapeIndices</span><span class="o">=</span><span class="n">linkCollisionShapeIndices</span><span class="p">,</span>
                         <span class="n">linkVisualShapeIndices</span><span class="o">=</span><span class="n">linkVisualShapeIndices</span><span class="p">,</span>
                         <span class="n">linkPositions</span><span class="o">=</span><span class="n">linkPositions</span><span class="p">,</span>
                         <span class="n">linkOrientations</span><span class="o">=</span><span class="n">linkOrientations</span><span class="p">,</span>
                        <span class="n">linkInertialFramePositions</span><span class="o">=</span><span class="n">linkInertialFramePositions</span><span class="p">,</span>
                          <span class="n">linkInertialFrameOrientations</span><span class="o">=</span><span class="n">linkInertialFrameOrns</span><span class="p">,</span>
                         <span class="n">linkParentIndices</span><span class="o">=</span><span class="n">indices</span><span class="p">,</span>
                         <span class="n">linkJointTypes</span><span class="o">=</span><span class="n">jointTypes</span><span class="p">,</span>
                         <span class="n">linkJointAxis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
</pre></div>
</div>
<p>Once we are done with the multibody we can create the actor to render the links:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rope_actor</span> <span class="o">=</span> <span class="n">actor</span><span class="o">.</span><span class="n">cylinder</span><span class="p">(</span><span class="n">centers</span><span class="o">=</span><span class="n">linkPositions</span><span class="p">,</span>
                      <span class="n">directions</span><span class="o">=</span><span class="n">linkDirections</span><span class="p">,</span>
                      <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_links</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                      <span class="n">radius</span><span class="o">=</span><span class="n">radii</span><span class="p">,</span>
                      <span class="n">heights</span><span class="o">=</span><span class="n">link_heights</span><span class="p">,</span> <span class="n">capped</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>We can sync the joints using the following code snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sync_joints</span><span class="p">(</span><span class="n">actor_list</span><span class="p">,</span> <span class="n">multibody</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">joint</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">getNumJoints</span><span class="p">(</span><span class="n">multibody</span><span class="p">)):</span>
      <span class="n">pos</span><span class="p">,</span> <span class="n">orn</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getLinkState</span><span class="p">(</span><span class="n">multibody</span><span class="p">,</span> <span class="n">joint</span><span class="p">)[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>

      <span class="n">rot_mat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
              <span class="n">p</span><span class="o">.</span><span class="n">getMatrixFromQuaternion</span><span class="p">(</span>
              <span class="n">p</span><span class="o">.</span><span class="n">getDifferenceQuaternion</span><span class="p">(</span><span class="n">orn</span><span class="p">,</span> <span class="n">linkOrientations</span><span class="p">[</span><span class="n">joint</span><span class="p">])),</span>
              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

      <span class="n">vertices</span><span class="p">[</span><span class="n">joint</span> <span class="o">*</span> <span class="n">sec</span><span class="p">:</span> <span class="n">joint</span> <span class="o">*</span> <span class="n">sec</span> <span class="o">+</span> <span class="n">sec</span><span class="p">]</span> <span class="o">=</span>\
              <span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">joint</span> <span class="o">*</span> <span class="n">sec</span><span class="p">:</span> <span class="n">joint</span> <span class="o">*</span> <span class="n">sec</span> <span class="o">+</span> <span class="n">sec</span><span class="p">]</span> <span class="o">-</span>
              <span class="n">linkPositions</span><span class="p">[</span><span class="n">joint</span><span class="p">])</span><span class="nd">@rot_mat</span> <span class="o">+</span> <span class="n">pos</span>

      <span class="n">linkPositions</span><span class="p">[</span><span class="n">joint</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span>
      <span class="n">linkOrientations</span><span class="p">[</span><span class="n">joint</span><span class="p">]</span> <span class="o">=</span> <span class="n">orn</span>
</pre></div>
</div>
<p>Here, we determine the total number of joints using <code class="docutils literal notranslate"><span class="pre">p.getNumJoints</span></code> and run a loop to iterate through all the joints present within the object. Once we get access to a particular joint we use the <code class="docutils literal notranslate"><span class="pre">p.getLinkState</span></code> to get various information about a particular joint. Within the list of information we have access to positions and orientation of the joints at index 4 and 5. So we perform the query to get the position and orientation of the joints. After that the process of translation and rotation are the same as shown here.</p>
</section>
</section>
<hr class="docutils" />
<section id="examples">
<h2><a class="toc-backref" href="#id20" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<section id="brick-wall-simulation">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Brick Wall Simulation</a><a class="headerlink" href="#brick-wall-simulation" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_bricks_multi_actor.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_bricks_multi_actor.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_brick_wall.py">here</a>.</p>
</section>
<section id="ball-collision-simulation">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Ball Collision Simulation</a><a class="headerlink" href="#ball-collision-simulation" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_collision.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_collision.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_ball_collide.py">here</a>.</p>
</section>
<section id="brick-wall-simulation-single-actor">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Brick Wall Simulation(Single Actor)</a><a class="headerlink" href="#brick-wall-simulation-single-actor" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_bricks_fast.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_bricks_fast.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_brick_wall.py">here</a>.</p>
</section>
<section id="chain-simulation">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Chain Simulation</a><a class="headerlink" href="#chain-simulation" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_chain.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_chain.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_chain.py">here</a>.</p>
</section>
<section id="wrecking-ball-simulation">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">Wrecking Ball Simulation</a><a class="headerlink" href="#wrecking-ball-simulation" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_wrecking_ball.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_wrecking_ball.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_wrecking_ball.py">here</a>.</p>
</section>
<section id="domino-simulation">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Domino Simulation</a><a class="headerlink" href="#domino-simulation" title="Permalink to this heading">#</a></h3>
<img alt="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_domino.gif" class="align-center" src="https://raw.githubusercontent.com/fury-gl/fury-communication-assets/main/physics_domino.gif" />
<p>The code for the above simulation can be found <a class="reference external" href="https://github.com/fury-gl/fury/blob/master/docs/examples/physics_using_pybullet/viz_domino.py">here</a>.</p>
</section>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="auto_examples/physics_using_pybullet/viz_wrecking_ball.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Wrecking Ball Simulation</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="reference/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">API Reference</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-rigid-body-dynamics">
   Simple Rigid Body Dynamics
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#necessary-imports">
     Necessary Imports
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connection-mode">
     Connection Mode
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#disconnection">
     Disconnection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-gravity">
     Setting Gravity
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-objects">
     Creating Objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-object-dynamics">
     Changing Object Dynamics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-objects-to-the-scene">
     Adding objects to the scene
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#application-of-force-torque">
     Application of Force/Torque
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enabling-collision">
     Enabling collision
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creation-of-show-manager">
     Creation of Show Manager
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syncing-properties-of-actors">
     Syncing properties of actors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creation-of-timer-callback">
     Creation of Timer Callback
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initiating-the-simulation">
     Initiating the simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rendering-multiple-objects-by-a-single-actor">
     Rendering multiple objects by a single actor
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rendering-objects-in-fury">
       Rendering objects in FURY
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#render-pybullet-objects">
       Render Pybullet Objects
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#syncing-objects">
       Syncing objects
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rendering-joints">
     Rendering Joints
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   Examples
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#brick-wall-simulation">
     Brick Wall Simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ball-collision-simulation">
     Ball Collision Simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#brick-wall-simulation-single-actor">
     Brick Wall Simulation(Single Actor)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#chain-simulation">
     Chain Simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wrecking-ball-simulation">
     Wrecking Ball Simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#domino-simulation">
     Domino Simulation
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/fury-pybullet.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>
 
  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <div id="footer-columns" class="footer-columns">
    <div class="footer-logo-column">
        <img id="footer-logo" src="_static/images/logo.svg" alt=" logo. ">
    </div>
    <div class="link-column">
        <div class="footer-column">
            <div class="footer-header">
                <h5 class="footer-h5">About</h5>
            </div>
            <ul class="link-list" style="padding-left: 0px;">
                <li class="link-list"><a class="footer-link" href="community.html"><i
                            class="fa fa-angle-double-right"></i> Developers</a></li>
                <li class="link-list"><a class="footer-link" href="https://discord.gg/6btFPPj"><i
                            class="fa fa-angle-double-right"></i> Support</a></li>
                <li class="link-list"><a class="footer-link" href="installation.html"><i
                            class="fa fa-angle-double-right"></i> Download</a></li>
                <li class="link-list"><a class="footer-link" href="auto_tutorials/index.html"><i
                            class="fa fa-angle-double-right"></i> Tutorials</a></li>
            </ul>
        </div>
    </div>
    <div class="link-column">
        <div class="footer-column">
            <div class="footer-header">
                <h5 class="footer-h5">Friends</h5>
            </div>
            <ul class="" style="padding-left: 0px;">
                <li class="link-list"><a class="footer-link" target="_blank" href="https://dipy.org/"><i
                            class="fa fa-angle-double-right"></i> DIPY</a></li>
                <li class="link-list"><a class="footer-link" target="_blank" href="https://heliosnetwork.io/"><i
                            class="fa fa-angle-double-right"></i> Helios</a></li>
                <li class="link-list"><a class="footer-link" target="_blank" href="https://furiousatoms.com/"><i
                            class="fa fa-angle-double-right"></i> Furious Atoms</a></li>
            </ul>
        </div>
    </div>
    <div class="link-column">
        <div class="footer-column">
            <div class="footer-header">
                <h5 class="footer-h5">Support</h5>
            </div>
            <ul class="" style="padding-left: 0px;">
                <li class="link-list"><a class="footer-link" target="_blank" href="https://engineering.indiana.edu/"><i
                            class="fa fa-angle-double-right"></i>
                        The department of Intelligent Systems Engineering of Indiana University
                    </a></li>
                <li class="link-list"><a class="footer-link" target="_blank"
                        href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1720625"><i
                            class="fa fa-angle-double-right"></i>
                        NSF NCN - Engineered NanoBIO - NSF award #1720625
                    </a></li>
                <li class="link-list"><a class="footer-link" target="_blank"
                        href="https://summerofcode.withgoogle.com/"><i class="fa fa-angle-double-right"></i>
                        Google Summer of Code Program
                    </a></li>
            </ul>
        </div>
    </div>
    <div class="footer-actions">


        <nav class="level is-mobile">
            <div class="social-media-icons">
                <a class="level-item" href="https://github.com/fury-gl/fury"
                    aria-label="https://github.com/fury-gl/fury">
                    <span class="icon"><i class="fab fa-github-alt"
                            style="color: white; margin-right: 0.75rem;"></i></span>
                </a>
                <a class="level-item" href="https://twitter.com/fury_engine"
                    aria-label="https://twitter.com/fury_engine">
                    <span class="icon"><i class="fab fa-twitter"
                            style="color: white; margin-right: 0.75rem;"></i></span>
                </a>
            </div>
        </nav>
        <div class="copyright">&copy; 2018-2023, FURY. All rights reserved.</div>
    </div>
</div>
  </div>
  
</div>
  </footer>
<link rel="stylesheet" href="_static/css/blog.css" type="text/css">
<link rel="stylesheet" href="_static/vendor/vars.css" />
<link rel="stylesheet" href="_static/vendor/styles.css" />
<link rel="stylesheet" href="_static/vendor/sphinx-footer.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
  crossorigin="anonymous" />
<style>
  /* Sidebar header (and topbar for mobile) */
  .wy-side-nav-search,
  .wy-nav-top {
    background: #990000;
  }

  /* Sidebar */
  .wy-nav-side {
    background: #4A3C31;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3" async defer>
  new Crate({
    server: '695048505902891009',
    channel: '695305679682011217',
    shard: 'https://e.widgetbot.io',
    // glyph: ['https://i0.wp.com/www.puclpodcast.com/wp-content/uploads/2014/03/discord-chat-link-button.jpg?w=681&ssl=1', '100%'],
  })
</script>

  </body>
</html>